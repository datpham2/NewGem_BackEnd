{"openapi":"3.0.1","info":{"title":"API Service","description":"API documents","license":{"name":"Apache 2.0","url":"https://springdoc.org"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8080"}],"paths":{"/user/updateUser/{id}":{"put":{"tags":["user-controller"],"operationId":"updateUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/hotel/updateHotel/{id}":{"put":{"tags":["hotel-controller"],"operationId":"updateHotel","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HotelDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/voucher/update/{id}":{"post":{"tags":["voucher-controller"],"operationId":"updateVoucher","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoucherDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/voucher/createVoucher/{hotelId}":{"post":{"tags":["voucher-controller"],"operationId":"createReview","parameters":[{"name":"hotelId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoucherDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/user/addUser":{"post":{"tags":["user-controller"],"operationId":"addUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/room/updateRoom/{id}":{"post":{"tags":["room-controller"],"operationId":"updateRoom","parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"roomDTO","in":"query","required":true,"schema":{"$ref":"#/components/schemas/RoomDTO"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/room/createRoom":{"post":{"tags":["room-controller"],"operationId":"addRoom","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Room"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/reviews/update/{id}":{"post":{"tags":["review-controller"],"operationId":"updateReview","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewsDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/reviews/createReview":{"post":{"tags":["review-controller"],"operationId":"createReview_1","parameters":[{"name":"hotelId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"userId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewsDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/reservation/bookRoom":{"post":{"tags":["reservation-controller"],"operationId":"makeReservation","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Reservation"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/hotel/createHotel":{"post":{"tags":["hotel-controller"],"operationId":"createHotel","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HotelDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/bill/createBill":{"post":{"tags":["bill-controller"],"operationId":"getBillByUserId","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BillRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/auth/signin":{"post":{"tags":["auth-controller"],"operationId":"signIn","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}}}}},"/auth/remove-token":{"post":{"tags":["auth-controller"],"operationId":"removeToken","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/auth/refresh-token":{"post":{"tags":["auth-controller"],"operationId":"refreshToken","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}}}}},"/auth/forgot-password":{"post":{"tags":["auth-controller"],"operationId":"forgotPassword","requestBody":{"content":{"application/json":{"schema":{"type":"string"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/auth/change-password":{"post":{"tags":["auth-controller"],"operationId":"changePassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/voucher/{id}":{"get":{"tags":["voucher-controller"],"operationId":"getAllVoucher","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":5}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}},"patch":{"tags":["voucher-controller"],"operationId":"disableVoucher","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/user/changeStatus/{id}":{"patch":{"tags":["user-controller"],"operationId":"updateUserStatus","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/reviews/{id}":{"get":{"tags":["review-controller"],"operationId":"hotelDetail","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":5}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}},"patch":{"tags":["review-controller"],"operationId":"disableReview","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/hotel/delete/{id}":{"patch":{"tags":["hotel-controller"],"operationId":"disableHotel","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/user/getUser/{id}":{"get":{"tags":["user-controller"],"operationId":"getUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/user/getAllUser":{"get":{"tags":["user-controller"],"operationId":"getAllUser","parameters":[{"name":"page","in":"query","required":false,"schema":{"minimum":0,"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"minimum":1,"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/room/roomByType/{type}":{"get":{"tags":["room-controller"],"operationId":"getRoomByType","parameters":[{"name":"type","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/room/roomById/{id}":{"get":{"tags":["room-controller"],"operationId":"getRoomById","parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/room/roomByHotelId/{hotelId}":{"get":{"tags":["room-controller"],"operationId":"getRoomByHotelId","parameters":[{"name":"hotelId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/room/allRoom":{"get":{"tags":["room-controller"],"operationId":"getAllRooms","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/reservation/{id}":{"get":{"tags":["reservation-controller"],"operationId":"getReservationById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/reservation/allUsers/{roomId}":{"get":{"tags":["reservation-controller"],"operationId":"getAllUserByRoomId","parameters":[{"name":"roomId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":8}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/reservation/allRooms/{roomId}":{"get":{"tags":["reservation-controller"],"operationId":"getAllRoomByRoomId","parameters":[{"name":"roomId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":8}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/hotel/{id}":{"get":{"tags":["hotel-controller"],"operationId":"getHotelDetail","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/hotel/searchHotelByName":{"get":{"tags":["hotel-controller"],"operationId":"searchByNameHotel","parameters":[{"name":"name","in":"query","required":false,"schema":{"type":"string","default":"%"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":8}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/hotel/allHotel":{"get":{"tags":["hotel-controller"],"operationId":"getAllHotel","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":8}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/home":{"get":{"tags":["home-controller"],"operationId":"homePage","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/bill/getAllBill":{"get":{"tags":["bill-controller"],"operationId":"getAllBillByUserId","parameters":[{"name":"user","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"hotel","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/user/deleteUser/{id}":{"delete":{"tags":["user-controller"],"operationId":"deleteUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}},"/reservation/delete/{id}":{"delete":{"tags":["reservation-controller"],"operationId":"cancelReservation","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponse"}}}}}}}},"components":{"schemas":{"UserDTO":{"required":["firstName","lastName","password","username"],"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"dateOfBirth":{"type":"string","format":"date"},"gender":{"type":"string","enum":["MALE","FEMALE","OTHER"]},"username":{"type":"string"},"password":{"maxLength":2147483647,"minLength":8,"pattern":"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$","type":"string"},"status":{"type":"string","enum":["ACTIVE","INACTIVE"]}}},"ApiResponse":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"object"}}},"HotelDTO":{"required":["location","name"],"type":"object","properties":{"name":{"type":"string"},"location":{"type":"string"},"rating":{"type":"integer","format":"int32"},"status":{"type":"string","enum":["ACTIVE","INACTIVE"]},"min_price":{"minimum":1,"type":"number"},"max_price":{"minimum":1,"type":"number"},"no_rooms":{"minimum":1,"type":"integer","format":"int32"}}},"VoucherDTO":{"type":"object","properties":{"discount":{"minimum":1,"type":"integer","format":"int32"},"startDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"},"status":{"type":"string","enum":["ACTIVE","INACTIVE"]},"hotel_id":{"type":"integer","format":"int64"}}},"RoomDTO":{"required":["hotel_id","id","price","type"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"price":{"minimum":0.0,"exclusiveMinimum":false,"type":"number","format":"double"},"type":{"type":"string","enum":["SINGLE","DOUBLE","VIP"]},"guests":{"minimum":1,"type":"integer","format":"int32"},"hotel_id":{"type":"integer","format":"int64"}}},"Bill":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"reservations":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Reservation"}},"totalPrice":{"type":"number","format":"double"},"user":{"$ref":"#/components/schemas/User"},"hotel":{"$ref":"#/components/schemas/Hotel"},"totalFee":{"type":"number"},"voucher":{"$ref":"#/components/schemas/Voucher"},"checkOut":{"type":"string","format":"date"},"paid":{"type":"boolean"}}},"GrantedAuthority":{"type":"object","properties":{"authority":{"type":"string"}}},"Hotel":{"required":["location","name"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"name":{"type":"string"},"location":{"type":"string"},"rating":{"type":"number","format":"double"},"status":{"type":"string","enum":["ACTIVE","INACTIVE"]},"reviews":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Reviews"}},"vouchers":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Voucher"}},"min_price":{"minimum":1,"type":"number"},"max_price":{"minimum":1,"type":"number"},"no_rooms":{"minimum":1,"type":"integer","format":"int32"}}},"Reservation":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"checkIn":{"type":"string","format":"date"},"checkOut":{"type":"string","format":"date"},"hotel":{"$ref":"#/components/schemas/Hotel"},"room":{"$ref":"#/components/schemas/Room"},"user":{"$ref":"#/components/schemas/User"},"adults":{"minimum":1,"type":"integer","format":"int32"},"children":{"maximum":10,"minimum":0,"type":"integer","format":"int32"},"bill":{"$ref":"#/components/schemas/Bill"},"status":{"type":"string"}}},"Reviews":{"required":["comment"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"rating":{"maximum":5,"minimum":1,"type":"integer","format":"int32"},"comment":{"type":"string"},"status":{"type":"string","enum":["ACTIVE","INACTIVE"]}}},"Role":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"name":{"type":"string"}}},"Room":{"required":["price","type"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"hotel":{"$ref":"#/components/schemas/Hotel"},"roomNumber":{"type":"integer","format":"int32"},"price":{"minimum":0.0,"exclusiveMinimum":false,"type":"number","format":"double"},"type":{"type":"string","enum":["SINGLE","DOUBLE","VIP"]},"reservations":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Reservation"}},"guests":{"type":"integer","format":"int32"}}},"User":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"firstName":{"type":"string"},"lastName":{"type":"string"},"dateOfBirth":{"type":"string","format":"date"},"gender":{"type":"string","enum":["MALE","FEMALE","OTHER"]},"phone":{"type":"string"},"email":{"type":"string"},"username":{"type":"string"},"password":{"type":"string"},"status":{"type":"string","enum":["ACTIVE","INACTIVE"]},"role":{"$ref":"#/components/schemas/Role"},"reviews":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Reviews"}},"enabled":{"type":"boolean"},"authorities":{"type":"array","items":{"$ref":"#/components/schemas/GrantedAuthority"}},"accountNonLocked":{"type":"boolean"},"accountNonExpired":{"type":"boolean"},"credentialsNonExpired":{"type":"boolean"}}},"Voucher":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"discount":{"minimum":1,"type":"integer","format":"int32"},"startDate":{"type":"string","format":"date"},"endDate":{"type":"string","format":"date"},"status":{"type":"string","enum":["ACTIVE","INACTIVE"]}}},"ReviewsDTO":{"required":["comment"],"type":"object","properties":{"comment":{"type":"string"},"rating":{"maximum":5,"minimum":1,"type":"integer","format":"int32"},"status":{"type":"string","enum":["ACTIVE","INACTIVE"]},"user_id":{"type":"integer","format":"int64"},"hotel_id":{"type":"integer","format":"int64"}}},"BillRequest":{"type":"object","properties":{"hotelId":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"checkOut":{"type":"string","format":"date"},"voucherId":{"type":"integer","format":"int64"},"reservationId":{"type":"integer","format":"int64"}}},"SignInRequest":{"required":["password","username"],"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}},"TokenResponse":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"userId":{"type":"integer","format":"int64"}}},"ResetPasswordRequest":{"required":["confirmPassword","password","resetKey"],"type":"object","properties":{"resetKey":{"type":"string"},"password":{"maxLength":2147483647,"minLength":8,"pattern":"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$","type":"string"},"confirmPassword":{"maxLength":2147483647,"minLength":8,"pattern":"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$","type":"string"}}}}}}